{% extends 'layout.html' %}

{% block content %}

{% if User.is_admin %}
  {% include 'adminNavbar.html' %}
{% else %}
  {% include 'navbar.html' %}
{% endif %}

<div class="container">
  <h1 class="text-center">Profile Section</h1>
    <hr>
</div>
<div class="d-flex justify-content-center mt-5 mb-3"><h3>Welcome back, {{User.username}}! Manage your profile information here.</h3></div>

<div class="username my-4">
    <form method="post">

        <!-- Username input -->
        <div class="form-outline mx-5 my-3">
          <label class="form-label mt-5">Username</label>
          <input type="text"  name="username" class="form-control form-control-lg"
            value="{{User.username}}" required/>
        </div>

        <!-- Email input -->
        <div class="form-outline mx-5 mb-4">
            <label class="form-label">Email address</label>
            <input type="email" name="email" class="form-control form-control-lg"
              value="{{User.email}}" required />
          </div>

        <!-- Password input -->
        <div class="form-outline mx-5 mb-3">
          <label class="form-label">Password</label>
          <input type="password" name="oldpassword" class="form-control form-control-lg"
            placeholder="Enter old password" required/>
          <div id="emailHelp" class="form-text">Enter your password to save changes.</div>
        </div>

        <!-- Password input -->
        <div class="form-outline mx-5 mb-3">
            <label class="form-label">New Password</label>
            <input type="password" name="newpassword" class="form-control form-control-lg"
              placeholder="Enter new password"/>
            <div id="emailHelp" class="form-text">To change password, enter new password.</div>
          </div>



        <div class="d-flex justify-content-center align-items-center">
            <div class="text-center align-content-center p-2">
              <button type="submit" class="btn btn-primary btn-lg">Update</button>
            </div>
            <a href="{{url_for('logout')}}" class="btn btn-outline-danger btn-lg">Logout</a>
        </div>
        {% if User.is_admin %}
        {% else %}
          <div class="text-center align-content-center pt-2 pb-3">
            <a href="{{url_for('deleteAccount', id=User.user_id)}}" class="btn btn-danger btn-lg">Delete account</a>
          </div>
        {% endif %}
        

      </form>

</div>





{% endblock %}

{% block style %}
<style>
.username{
    background-color: white;
    max-width: 50vw;
    margin-left: auto;
    margin-right: auto;
    border-radius: 2rem;
}
</style>
{% endblock %}